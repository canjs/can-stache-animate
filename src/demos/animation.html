<!DOCTYPE html>
<title>can-stache-animate - demo</title>
<style>
body{
	background-color:#f0f0f0;
}
.demo-wrap{
	position: relative;
	top:1em;
	height:200px;
	width: 200px;
	margin:0 auto;
}

.demo{
	position: absolute;
	width:100%;
	height: 100%;
	top:0;
	left:0;
	background-color: #cb3034;
}

</style>

<script type="text/stache" id="demo-stache">
	<div class="demo-wrap">
		<can-import 
			from="can-stache-animate/demos/custom-animations" 
			{^value}="*animationsModule" 
		/>

		<div class="demo" 
			(. shake)="*animationsModule.default.animations.nodShakeBlueNodFast"></div>
	</div>
</script>
<script src="../../node_modules/steal/steal.js" main="@empty">
	import $ from 'jquery';
	import 'can-view-import';
	import stache from 'can-stache';
	import canStacheBindings from 'can-stache-bindings';
	import DefineMap from 'can-define/map/';

	var TestMap = DefineMap.extend({
		timesShaken: {
			type: "number",
			value: 0,
			set(v){
				this.dispatch("shake");
				return v;
			}
		}
	});
	var map = new TestMap({
		timesShaken: 0
	});

	setInterval(() => {
		map.timesShaken = map.timesShaken + 1;
	}, 8000);

	var frag = stache.from("demo-stache")(map);

	document.body.appendChild(frag);


</script>
